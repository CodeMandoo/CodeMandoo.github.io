<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>GeoAR.js demo</title>
    <!-- <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script> -->
    <!-- <script src="https://ar.cnxfs.com.cn/aframe-ar-nft.js"></script> -->
    <!-- <script type='text/javascript' src="./js/aframe.min.js"></script> -->
    <!-- <script type='text/javascript' src='./js/ar-threex-location-only.js'></script> -->
    <!-- <script type='text/javascript' src="./js/aframe-ar.js"></script> -->
    <!-- <script src="./js/ar.js"></script> -->
    <!-- <script src="./origin/aframe.min.js"></script> -->
    <!-- <script src="https://ar.cnxfs.com.cn/aframe-ar-nft.js"></script> -->
    <!-- <script src="./"> -->
    <!-- <script src="https://unpkg.com/aframe-look-at-component@0.8.0/dist/aframe-look-at-component.min.js"></script> -->
    <!-- <script type='text/javascript' src='./origin/ar-threex-location-only.js'></script> -->
    <!-- <script type='text/javascript' src='./origin/aframe-ar.js'></script> -->
    <!-- <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script> -->
    <script src="./origin/aframe.min1.js"></script>
    <script src="./origin/aframe-look-at-component.min.js"></script>
    <script src="./origin/aframe-ar-nft.js"></script>
</head>

<body>
    <!-- <a-scene vr-mode-ui='enabled: false' arjs='sourceType: webcam; videoTexture: true; debugUIEnabled: false'
        renderer='antialias: true; alpha: true'>
        <a-camera gps-new-camera='gpsMinDistance: 5'></a-camera> -->
    <!-- <a-entity material='color: red' geometry='primitive: box'
            gps-new-entity-place="latitude: 40.00953; longitude: 116.81509" scale="10 10 10"></a-entity>
        <a-entity material='color: green' geometry='primitive: box'
            gps-new-entity-place="latitude: 40.00956; longitude: 116.81511" scale="10 10 10"></a-entity> -->
    <!-- </a-scene> -->
    <!-- <a-scene arjs='sourceType: webcam; videoTexture: true;' artoolkit>
        <a-box rotation="0 45 0" color="#4CC3D9"
            gps-new-entity-place="latitude: 40.008259; longitude: 116.8090"></a-box>
        <a-entity material='color: red' geometry='primitive: box'
            gps-new-entity-place="latitude: 40.00953; longitude: 116.81509" scale="10 10 10"></a-entity>
        <a-camera gps-new-camera rotation-reader simulateAltitude="0"></a-camera>
    </a-scene> -->
    <!-- <a-scene vr-mode-ui='enabled: false' arjs='sourceType: webcam; videoTexture: true; debugUIEnabled: false'
        renderer='antialias: true; alpha: true'>
        <a-entity material='color: red' geometry='primitive: box'
            gps-new-entity-place="latitude: 40.00953; longitude: 116.81509" scale="10 10 10"></a-entity>
        <a-text value="This content will always face you." look-at="[gps-new-camera]" scale="120 120 120"
            gps-new-entity-place="latitude: 40.00953; longitude: 116.81509;"></a-text>
        <a-box material="color: yellow" gps-new-entity-place="latitude: 40.00953; longitude: 116.81509"></a-box>
        <a-box material="color: blue" gps-new-entity-place="latitude: 40.00952; longitude: 116.81511"></a-box>
        <a-camera gps-new-camera='gpsMinDistance: 5'></a-camera>
    </a-scene> -->
    <!-- <a-scene arjs="sourceType: webcam; trackingMethod: best;">
        <a-entity gps-projected-entity-place="latitude: 40.008259; longitude: 116.8090" position="0 33.3 0">
            <a-plane rotation="-90 0 0" position="0 0.5 0" width="10" height="10" color="#7BC8A4"></a-plane>
        </a-entity>
        <a-entity gps-projected-entity-place="latitude: 40.008460; longitude: 116.8091" position="0 33.3 0"
            look-controls-enabled="false">
            <a-box color="#4CC3D9" position="0 0.5 0"></a-box>
        </a-entity>
        <a-entity gps-projected-entity-place="latitude: 40.008150; longitude: 116.8089" look-controls-enabled="false">
            <a-entity geometry="primitive: box" material="color: red" scale="0.5 0.5 0.5"></a-entity>
        </a-entity>
        <a-entity gps-projected-camera look-controls></a-entity>
    </a-scene> -->
    <a-scene vr-mode-ui="enabled: false" embedded arjs="sourceType: webcam; debugUIEnabled: false;">
        <a-entity gps-new-entity-place="latitude: 40.008259; longitude: 116.8090; distance: 10;">
            <a-text value="This content will always face you." look-at="[gps-new-camera]" scale="120 120 120"
                position="0 30 0"></a-text>
        </a-entity>
        <a-entity gps-new-entity-place="latitude: 40.00953; longitude: 116.81509; distance: 10;">
            <a-box material="color: yellow"></a-box>
        </a-entity>
        <a-entity gps-new-entity-place="latitude: 40.00985; longitude: 116.81486; distance: 0.1">
            <a-box material="color: blue"></a-box>
        </a-entity>
        <a-entity gps-new-entity-place="latitude: 40.00985; longitude: 116.81486; distance: 100">
            <a-box material="color: blue"></a-box>
        </a-entity>
        <a-entity gps-new-entity-place="latitude: 40.008261; longitude: 116.8092; distance: 0.5">
            <a-box material="color: pink"></a-box>
        </a-entity>
        <a-camera gps-new-camera rotation-reader> </a-camera>
    </a-scene>
</body>

<script>
    navigator.geolocation.getCurrentPosition(function (position) {
        var latitude = position.coords.latitude;
        var longitude = position.coords.longitude;
        // 在这里可以使用获取到的经纬度来设置基于位置的AR场景
        var altitude = position.coords.altitude;
        var accuracy = position.coords.altitudeAccuracy;

        console.log("当前位置：纬度 " + latitude + "，经度 " + longitude);
        console.log("海拔高度： " + altitude + "米，精度 " + accuracy + "米");
    });
    // window.onload = () => {
    //     let testEntityAdded = false;

    //     const el = document.querySelector("[gps-new-camera]");

    //     el.addEventListener("gps-camera-update-position", e => {
    //         if (!testEntityAdded) {
    //             alert(`Got first GPS position: lon ${e.detail.position.longitude} lat ${e.detail.position.latitude}`);
    //             // Add a box to the north of the initial GPS position
    //             const entity = document.createElement("a-box");
    //             entity.setAttribute("scale", {
    //                 x: 20,
    //                 y: 20,
    //                 z: 20
    //             });
    //             entity.setAttribute('material', { color: 'red' });
    //             entity.setAttribute('gps-new-entity-place', {
    //                 latitude: e.detail.position.latitude + 0.001,
    //                 longitude: e.detail.position.longitude
    //             });
    //             document.querySelector("a-scene").appendChild(entity);
    //         }
    //         testEntityAdded = true;
    //     });
    // };
</script>

</html>